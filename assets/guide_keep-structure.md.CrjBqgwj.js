import{_ as a,c as i,o as e,ag as n}from"./chunks/framework.B-su3jjs.js";const c=JSON.parse('{"title":"目录结构保留","description":"","frontmatter":{},"headers":[],"relativePath":"guide/keep-structure.md","filePath":"guide/keep-structure.md"}'),t={name:"guide/keep-structure.md"};function l(p,s,h,d,o,r){return e(),i("div",null,s[0]||(s[0]=[n(`<h1 id="目录结构保留" tabindex="-1">目录结构保留 <a class="header-anchor" href="#目录结构保留" aria-label="Permalink to &quot;目录结构保留&quot;">​</a></h1><p>GS3D下载工具提供了灵活的目录结构管理选项，让你可以根据需要选择是否保留完整的S3存储桶目录结构。本页面详细介绍目录结构保留功能。</p><h2 id="目录结构选项" tabindex="-1">目录结构选项 <a class="header-anchor" href="#目录结构选项" aria-label="Permalink to &quot;目录结构选项&quot;">​</a></h2><p>GS3D下载工具提供两种目录结构处理模式：</p><ol><li><strong>默认模式</strong>：只保留相对于指定前缀的路径</li><li><strong>保留结构模式</strong>：保留完整的S3目录结构</li></ol><h2 id="默认模式-相对路径" tabindex="-1">默认模式 - 相对路径 <a class="header-anchor" href="#默认模式-相对路径" aria-label="Permalink to &quot;默认模式 - 相对路径&quot;">​</a></h2><p>在默认模式下，脚本会将文件下载到输出目录，只保留相对于指定前缀的路径：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/deep/nested/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./downloads</span></span></code></pre></div><p>这将把 <code>deep/nested/folder/</code> 下的文件直接下载到 <code>./downloads</code> 目录，不会创建 <code>deep/nested/folder/</code> 的额外目录结构。</p><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>假设S3存储桶中有以下文件：</p><ul><li><code>s3://my-bucket/deep/nested/folder/file1.txt</code></li><li><code>s3://my-bucket/deep/nested/folder/subfolder/file2.txt</code></li></ul><p>在默认模式下，下载后的结构将是：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>downloads/</span></span>
<span class="line"><span>  ├── file1.txt</span></span>
<span class="line"><span>  └── subfolder/</span></span>
<span class="line"><span>      └── file2.txt</span></span></code></pre></div><h2 id="保留完整目录结构" tabindex="-1">保留完整目录结构 <a class="header-anchor" href="#保留完整目录结构" aria-label="Permalink to &quot;保留完整目录结构&quot;">​</a></h2><p>使用 <code>--keep-structure</code> 或 <code>-k</code> 参数可以保留完整的目录结构：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/deep/nested/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./downloads</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-structure</span></span></code></pre></div><p>这将把文件下载到 <code>./downloads/deep/nested/folder/</code> 目录，完整保留原始目录结构。</p><h3 id="示例-1" tabindex="-1">示例 <a class="header-anchor" href="#示例-1" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>使用相同的S3文件：</p><ul><li><code>s3://my-bucket/deep/nested/folder/file1.txt</code></li><li><code>s3://my-bucket/deep/nested/folder/subfolder/file2.txt</code></li></ul><p>在保留结构模式下，下载后的结构将是：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>downloads/</span></span>
<span class="line"><span>  └── deep/</span></span>
<span class="line"><span>      └── nested/</span></span>
<span class="line"><span>          └── folder/</span></span>
<span class="line"><span>              ├── file1.txt</span></span>
<span class="line"><span>              └── subfolder/</span></span>
<span class="line"><span>                  └── file2.txt</span></span></code></pre></div><h2 id="实际使用场景" tabindex="-1">实际使用场景 <a class="header-anchor" href="#实际使用场景" aria-label="Permalink to &quot;实际使用场景&quot;">​</a></h2><h3 id="场景一-geos-chem气候数据" tabindex="-1">场景一：GEOS-Chem气候数据 <a class="header-anchor" href="#场景一-geos-chem气候数据" aria-label="Permalink to &quot;场景一：GEOS-Chem气候数据&quot;">​</a></h3><p>从GEOS-Chem存储桶下载2024年2月的数据：</p><h4 id="不保留目录结构" tabindex="-1">不保留目录结构 <a class="header-anchor" href="#不保留目录结构" aria-label="Permalink to &quot;不保留目录结构&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/02/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./climate-data</span></span></code></pre></div><p>结果：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>climate-data/</span></span>
<span class="line"><span>  ├── file1.nc</span></span>
<span class="line"><span>  ├── file2.nc</span></span>
<span class="line"><span>  └── ...</span></span></code></pre></div><h4 id="保留目录结构" tabindex="-1">保留目录结构 <a class="header-anchor" href="#保留目录结构" aria-label="Permalink to &quot;保留目录结构&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/02/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./climate-data</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-structure</span></span></code></pre></div><p>结果：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>climate-data/</span></span>
<span class="line"><span>  └── GEOS_2x2.5/</span></span>
<span class="line"><span>      └── MERRA2/</span></span>
<span class="line"><span>          └── 2024/</span></span>
<span class="line"><span>              └── 02/</span></span>
<span class="line"><span>                  ├── file1.nc</span></span>
<span class="line"><span>                  ├── file2.nc</span></span>
<span class="line"><span>                  └── ...</span></span></code></pre></div><h3 id="场景二-多月份数据下载" tabindex="-1">场景二：多月份数据下载 <a class="header-anchor" href="#场景二-多月份数据下载" aria-label="Permalink to &quot;场景二：多月份数据下载&quot;">​</a></h3><p>当你需要下载多个月份的数据时，目录结构管理尤为重要：</p><h4 id="不保留结构-单独下载" tabindex="-1">不保留结构（单独下载） <a class="header-anchor" href="#不保留结构-单独下载" aria-label="Permalink to &quot;不保留结构（单独下载）&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 单独下载每个月，放在不同目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/01/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./data-01</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/02/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./data-02</span></span></code></pre></div><h4 id="保留结构-统一目录" tabindex="-1">保留结构（统一目录） <a class="header-anchor" href="#保留结构-统一目录" aria-label="Permalink to &quot;保留结构（统一目录）&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 下载到同一个目录，保留结构以避免冲突</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/01/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./climate-data</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-structure</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/02/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./climate-data</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-structure</span></span></code></pre></div><h2 id="选择合适的模式" tabindex="-1">选择合适的模式 <a class="header-anchor" href="#选择合适的模式" aria-label="Permalink to &quot;选择合适的模式&quot;">​</a></h2><h3 id="适合默认模式的情况" tabindex="-1">适合默认模式的情况 <a class="header-anchor" href="#适合默认模式的情况" aria-label="Permalink to &quot;适合默认模式的情况&quot;">​</a></h3><ul><li>你只关心文件内容，不需要额外的目录结构</li><li>你只下载特定的单个文件夹内容</li><li>你想要简化文件组织，减少嵌套层级</li><li>所有文件名都是唯一的，不会出现冲突</li></ul><h3 id="适合保留结构模式的情况" tabindex="-1">适合保留结构模式的情况 <a class="header-anchor" href="#适合保留结构模式的情况" aria-label="Permalink to &quot;适合保留结构模式的情况&quot;">​</a></h3><ul><li>你需要保留原始数据集的组织方式</li><li>你要处理多个不同路径但可能有同名文件的情况</li><li>目录结构本身包含重要信息（如时间序列、分类等）</li><li>你希望</li></ul>`,45)]))}const u=a(t,[["render",l]]);export{c as __pageData,u as default};
