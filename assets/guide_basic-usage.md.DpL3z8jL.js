import{_ as a,c as i,o as e,ag as t}from"./chunks/framework.B-su3jjs.js";const c=JSON.parse('{"title":"基本用法","description":"","frontmatter":{},"headers":[],"relativePath":"guide/basic-usage.md","filePath":"guide/basic-usage.md"}'),h={name:"guide/basic-usage.md"};function d(l,s,p,n,o,k){return e(),i("div",null,s[0]||(s[0]=[t('<h1 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to &quot;基本用法&quot;">​</a></h1><p>GS3D下载工具提供了简单直观的命令行界面，让你可以轻松地从AWS S3存储桶下载文件。本页面介绍工具的基本用法和主要命令行参数。</p><h2 id="命令格式" tabindex="-1">命令格式 <a class="header-anchor" href="#命令格式" aria-label="Permalink to &quot;命令格式&quot;">​</a></h2><p>GS3D下载工具的基本命令格式如下：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> S3链接</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [选项]</span></span></code></pre></div><p>S3链接是唯一必需的参数，它指定了你要下载的S3存储桶和前缀（文件夹路径）。</p><h2 id="s3链接格式" tabindex="-1">S3链接格式 <a class="header-anchor" href="#s3链接格式" aria-label="Permalink to &quot;S3链接格式&quot;">​</a></h2><p>工具支持以下几种S3链接格式：</p><ol><li><code>s3://bucket-name/folder/path/</code></li><li><code>https://bucket-name.s3.region.amazonaws.com/folder/path/</code></li><li><code>https://s3-region.amazonaws.com/bucket-name/folder/path/</code></li></ol><p>例如：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://geos-chem/GEOS_2x2.5/MERRA2/2024/02/</span></span></code></pre></div><h2 id="主要参数" tabindex="-1">主要参数 <a class="header-anchor" href="#主要参数" aria-label="Permalink to &quot;主要参数&quot;">​</a></h2><p>以下是最常用的命令行参数：</p><h3 id="输出目录" tabindex="-1">输出目录 <a class="header-anchor" href="#输出目录" aria-label="Permalink to &quot;输出目录&quot;">​</a></h3><p>使用<code>--output-dir</code>或<code>-o</code>参数指定文件下载的本地目录：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./downloads</span></span></code></pre></div><p>如果不指定输出目录，文件将下载到当前工作目录。</p><h3 id="匿名访问" tabindex="-1">匿名访问 <a class="header-anchor" href="#匿名访问" aria-label="Permalink to &quot;匿名访问&quot;">​</a></h3><p>对于公开的S3存储桶，使用<code>--anonymous</code>或<code>-a</code>参数进行匿名访问：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://public-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span></span></code></pre></div><p>这样无需提供AWS凭证即可下载公开存储桶中的文件。</p><h3 id="目录结构保留" tabindex="-1">目录结构保留 <a class="header-anchor" href="#目录结构保留" aria-label="Permalink to &quot;目录结构保留&quot;">​</a></h3><p>使用<code>--keep-structure</code>或<code>-k</code>参数保留完整的S3目录结构：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-structure</span></span></code></pre></div><p>默认情况下，工具只会保留相对于指定前缀的路径结构。使用此参数可以保留完整路径。</p><h3 id="并发下载线程数" tabindex="-1">并发下载线程数 <a class="header-anchor" href="#并发下载线程数" aria-label="Permalink to &quot;并发下载线程数&quot;">​</a></h3><p>使用<code>--max-workers</code>或<code>-w</code>参数调整并发下载线程数：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --max-workers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span></span></code></pre></div><p>默认值为10。对于大量小文件，增加此值可提高下载速度；对于少量大文件，可能需要减小此值以保持稳定性。</p><h3 id="aws区域" tabindex="-1">AWS区域 <a class="header-anchor" href="#aws区域" aria-label="Permalink to &quot;AWS区域&quot;">​</a></h3><p>使用<code>--region</code>或<code>-r</code>参数指定AWS区域：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --region</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> us-east-1</span></span></code></pre></div><h2 id="认证选项" tabindex="-1">认证选项 <a class="header-anchor" href="#认证选项" aria-label="Permalink to &quot;认证选项&quot;">​</a></h2><p>GS3D下载工具支持多种认证方式：</p><h3 id="aws配置文件" tabindex="-1">AWS配置文件 <a class="header-anchor" href="#aws配置文件" aria-label="Permalink to &quot;AWS配置文件&quot;">​</a></h3><p>使用<code>--profile</code>或<code>-p</code>参数指定AWS配置文件：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --profile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> my-profile</span></span></code></pre></div><h3 id="访问密钥" tabindex="-1">访问密钥 <a class="header-anchor" href="#访问密钥" aria-label="Permalink to &quot;访问密钥&quot;">​</a></h3><p>使用<code>--access-key</code>和<code>--secret-key</code>参数直接提供AWS访问密钥：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --access-key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YOUR_ACCESS_KEY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --secret-key</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> YOUR_SECRET_KEY</span></span></code></pre></div><h2 id="完整示例" tabindex="-1">完整示例 <a class="header-anchor" href="#完整示例" aria-label="Permalink to &quot;完整示例&quot;">​</a></h2><p>以下是一些完整的使用示例：</p><h3 id="基本下载" tabindex="-1">基本下载 <a class="header-anchor" href="#基本下载" aria-label="Permalink to &quot;基本下载&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/my-folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./downloads</span></span></code></pre></div><h3 id="匿名访问公开存储桶" tabindex="-1">匿名访问公开存储桶 <a class="header-anchor" href="#匿名访问公开存储桶" aria-label="Permalink to &quot;匿名访问公开存储桶&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://public-dataset/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --anonymous</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --region</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> us-east-1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./data</span></span></code></pre></div><h3 id="保留目录结构并使用配置文件" tabindex="-1">保留目录结构并使用配置文件 <a class="header-anchor" href="#保留目录结构并使用配置文件" aria-label="Permalink to &quot;保留目录结构并使用配置文件&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://my-bucket/deep/nested/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --profile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> work</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./backup</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --keep-structure</span></span></code></pre></div><h3 id="调整并发下载设置" tabindex="-1">调整并发下载设置 <a class="header-anchor" href="#调整并发下载设置" aria-label="Permalink to &quot;调整并发下载设置&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">python</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GS3D.py</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> s3://large-files-bucket/folder/</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --max-workers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --output-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./large-files</span></span></code></pre></div><h2 id="参数总结" tabindex="-1">参数总结 <a class="header-anchor" href="#参数总结" aria-label="Permalink to &quot;参数总结&quot;">​</a></h2><table tabindex="0"><thead><tr><th>参数</th><th>短格式</th><th>说明</th></tr></thead><tbody><tr><td><code>s3_url</code></td><td>-</td><td>S3链接 (必需)</td></tr><tr><td><code>--profile</code></td><td><code>-p</code></td><td>AWS配置文件名称</td></tr><tr><td><code>--access-key</code></td><td><code>-ak</code></td><td>AWS访问密钥ID</td></tr><tr><td><code>--secret-key</code></td><td><code>-sk</code></td><td>AWS秘密访问密钥</td></tr><tr><td><code>--region</code></td><td><code>-r</code></td><td>AWS区域</td></tr><tr><td><code>--output-dir</code></td><td><code>-o</code></td><td>本地输出目录，默认为当前目录</td></tr><tr><td><code>--max-workers</code></td><td><code>-w</code></td><td>最大并发下载线程数，默认为10</td></tr><tr><td><code>--anonymous</code></td><td><code>-a</code></td><td>使用匿名访问模式（用于公开存储桶）</td></tr><tr><td><code>--keep-structure</code></td><td><code>-k</code></td><td>保留完整的目录结构</td></tr></tbody></table>',52)]))}const F=a(h,[["render",d]]);export{c as __pageData,F as default};
